<ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '3px' }"></ngx-loading>
<ng-container *ngIf="hasError; else elseTemplate">
  <alert type="danger">
    <strong>Warning!</strong> Could not load data .... Click <a href="#" (click)="loadData()">here</a> to retry.
  </alert>
</ng-container>
<ng-template #elseTemplate>
  <div class="row mb-3">
    <div class="col-md-2 col-12 col-sm-2">
      <app-result-filter [data]=genders title="Genders" (filterChange)="onGenderChange($event)"
        className='genderFilter'>
      </app-result-filter>
    </div>
    <div class="col-md-3 col-12 col-sm-4">
      <app-result-filter [data]=fruits title="Favorite fruits" (filterChange)="onFruitChange($event)"
        className='fruitFilter'></app-result-filter>
    </div>
    <div class="col-md-7 col-12 col-sm-6">
      <app-result-filter [data]=colors title="Favorite colors" (filterChange)="onColorChange($event)"
        className='colorFilter'></app-result-filter>
    </div>
  </div>

  <div class="row">
    <div class="col-lg-7 col-md-12 col-12 col-sm-12 ">
      <app-result-table [data]=pageData></app-result-table>
      <pagination class="mt-3 " [totalItems]=totalItems [(ngModel)]="currentPage" [maxSize]=numberOfPages
        [itemsPerPage]=itemsPerPage (pageChanged)="pageChanged($event)"></pagination>
    </div>

    <div class="col-lg-5  col-md-12 col-12 col-sm-12 mt-3 mt-md-0">
      <app-result-chart [barChartLabels]=chartFruits [barChartData]=fruitData title="Gender - Fruits Chart">
      </app-result-chart>

      <app-result-chart [barChartLabels]=chartColors [barChartData]=colorData title="Gender - Colors Chart">
      </app-result-chart>
    </div>
  </div>
</ng-template>
